<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üí¨ Chat Messenger</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ -->
    <div id="login-screen" class="screen active">
        <div class="login-container">
            <div class="login-header">
                <div class="logo">
                    <i class="fas fa-comments"></i>
                </div>
                <h1>Chat Messenger</h1>
                <p>–û–±—â–∞–π—Ç–µ—Å—å —Å –¥—Ä—É–∑—å—è–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
            </div>
            <form id="login-form">
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="username-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à username" autocomplete="off" required minlength="2">
                </div>
                <button type="submit" class="btn-primary">
                    <span>–í–æ–π—Ç–∏</span>
                    <i class="fas fa-arrow-right"></i>
                </button>
            </form>
        </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —á–∞—Ç–∞ -->
    <div id="chat-screen" class="screen">
        <div class="chat-container">
            <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
            <aside class="sidebar">
                <!-- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <div class="sidebar-header">
                    <div class="user-profile" id="current-user-profile">
                        <div class="avatar" id="current-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <span class="username" id="current-username"></span>
                    </div>
                    <button class="btn-icon" id="settings-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>

                <!-- –ü–æ–∏—Å–∫ -->
                <div class="search-container">
                    <i class="fas fa-search"></i>
                    <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...">
                    <div id="search-results" class="search-results hidden"></div>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ -->
                <div class="chats-list" id="chats-list">
                    <div class="empty-chats">
                        <i class="fas fa-comments"></i>
                        <p>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤</p>
                        <span>–ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ</span>
                    </div>
                </div>
            </aside>

            <!-- –û–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
            <main class="chat-area" id="chat-area">
                <!-- –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ -->
                <div class="chat-empty" id="chat-empty">
                    <div class="chat-empty-content">
                        <i class="fas fa-paper-plane"></i>
                        <h2>–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</h2>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –Ω–æ–≤–æ–≥–æ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–∞</p>
                    </div>
                </div>

                <!-- –ê–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç -->
                <div class="chat-active hidden" id="chat-active">
                    <!-- –®–∞–ø–∫–∞ —á–∞—Ç–∞ -->
                    <header class="chat-header">
                        <button class="btn-icon back-btn" id="back-btn">
                            <i class="fas fa-arrow-left"></i>
                        </button>
                        <div class="chat-user-info">
                            <div class="avatar" id="chat-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="user-details">
                                <span class="username" id="chat-username"></span>
                                <span class="status" id="chat-status">–æ—Ñ—Ñ–ª–∞–π–Ω</span>
                            </div>
                        </div>
                        <button class="btn-icon" id="chat-profile-btn" title="–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                    </header>

                    <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
                    <div class="messages-container" id="messages-container">
                        <div class="messages-list" id="messages-list"></div>
                        <div class="typing-indicator hidden" id="typing-indicator">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>

                    <!-- –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
                    <div class="message-input-container">
                        <button class="btn-icon attach-btn" id="attach-btn" title="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–æ—Ç–æ">
                            <i class="fas fa-paperclip"></i>
                        </button>
                        <input type="file" id="image-input" accept="image/*" hidden>
                        <div class="input-wrapper">
                            <textarea id="message-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." rows="1"></textarea>
                        </div>
                        <button class="btn-send" id="send-btn" disabled>
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>

                    <!-- –ü—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
                    <div class="image-preview hidden" id="image-preview">
                        <img src="" alt="Preview" id="preview-image">
                        <button class="btn-remove-image" id="remove-image-btn">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div class="modal hidden" id="settings-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h2>
                <button class="btn-icon close-modal" id="close-settings">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- –ë–∞–Ω–Ω–µ—Ä -->
                <div class="banner-upload" id="banner-container">
                    <div class="banner-placeholder" id="banner-placeholder">
                        <i class="fas fa-image"></i>
                        <span>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å –±–∞–Ω–Ω–µ—Ä</span>
                    </div>
                    <img src="" alt="Banner" id="banner-image" class="hidden">
                    <input type="file" id="banner-input" accept="image/*" hidden>
                </div>

                <!-- –ê–≤–∞—Ç–∞—Ä -->
                <div class="avatar-upload">
                    <div class="avatar-large" id="settings-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <button class="btn-change-avatar" id="change-avatar-btn">
                        <i class="fas fa-camera"></i>
                    </button>
                    <input type="file" id="avatar-input" accept="image/*" hidden>
                </div>

                <div class="profile-info">
                    <h3 id="settings-username"></h3>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div class="modal hidden" id="profile-modal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
                <button class="btn-icon close-modal" id="close-profile">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="banner-upload" id="profile-banner-container">
                    <div class="banner-placeholder" id="profile-banner-placeholder">
                        <i class="fas fa-image"></i>
                    </div>
                    <img src="" alt="Banner" id="profile-banner-image" class="hidden">
                </div>
                <div class="avatar-upload">
                    <div class="avatar-large" id="profile-modal-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                </div>
                <div class="profile-info">
                    <h3 id="profile-modal-username"></h3>
                    <span class="profile-status" id="profile-modal-status">–æ—Ñ—Ñ–ª–∞–π–Ω</span>
                </div>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="app.js"></script>
</body>
</html>
